<div class="container">
  <h1>Angular HttpClient</h1>

  <div class="card">
    <div class="form-control">
      <input type="text" placeholder="Name" [(ngModel)]="this.newToDoTitle">
    </div>
    <button class="btn" (click)="addToDo()">Добавить</button>
    <button class="btn" (click)="fetchToDos()">Загрузить</button>
  </div>

  <hr>

  <div *ngIf="!errorText; else errorTemplate">
    <div *ngIf="!this.loading; else loadingTemplate">
      <div *ngIf="this.todos.length; else emptyTodos">
        <div class="card" *ngFor="let toDo of this.todos; let ind = index;">
          <p>
            <span [class.completed]="toDo.completed">{{ind + 1}}. {{toDo.title}}</span>
            <span>
              <button class="btn btn-danger" (click)="removeToDo(toDo.id)">Удалить</button>
              <button [disabled]="toDo.completed" (click)="this.completeTodo(toDo.id)" class="btn">Завершить</button>
            </span>
          </p>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #loadingTemplate>
  <p>Loading...</p>
</ng-template>
<ng-template #emptyTodos>
  <p>This array is empty</p>
</ng-template>
<ng-template #errorTemplate>
  <p class="error">Error!!!</p>
</ng-template>


